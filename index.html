<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ë–∞–Ω–∫–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- React, ReactDOM –∏ Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body {
        background: radial-gradient(circle at center, #1e1b4b, #0f172a);
      }
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
        }
      }
    </style>
  </head>

  <body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">

      const { useState } = React;

      const FallingDollar = ({ delay, left }) => (
        <div
          className="fixed pointer-events-none text-4xl font-bold opacity-20"
          style={{
            left: `${left}%`,
            animation: `fall ${8 + Math.random() * 4}s linear ${delay}s infinite`,
            top: '-50px'
          }}
        >
          üí∞
        </div>
      );

      const BankVaultApp = () => {
        const [banks, setBanks] = useState([]);
        const [savedPin, setSavedPin] = useState(null);
        const [isAuthenticated, setIsAuthenticated] = useState(false);
        const [pinInput, setPinInput] = useState('');
        const [isCreatingPin, setIsCreatingPin] = useState(false);
        const [pinConfirm, setPinConfirm] = useState('');
        const [selectedBank, setSelectedBank] = useState(null);
        const [showBankForm, setShowBankForm] = useState(false);
        const [bankFormData, setBankFormData] = useState({ bankName: '', color: '#3B82F6' });

        const handleCreatePin = () => {
          if (!pinInput || pinInput.length !== 4) return alert('PIN –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 4 —Ü–∏—Ñ—Ä—ã');
          if (pinInput !== pinConfirm) return alert('PIN –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç');
          setSavedPin(pinInput);
          setPinInput('');
          setPinConfirm('');
          setIsAuthenticated(true);
        };

        const handleCheckPin = () => {
          if (pinInput === savedPin) setIsAuthenticated(true);
          else alert('–ù–µ–≤–µ—Ä–Ω—ã–π PIN');
          setPinInput('');
        };

        if (!isAuthenticated)
          return (
            <div className="min-h-screen flex items-center justify-center text-center p-4">
              <div className="bg-slate-800 rounded-3xl p-8 border-2 border-purple-500 shadow-2xl w-full max-w-md">
                <h1 className="text-3xl text-white mb-4 font-bold">–ë–∞–Ω–∫–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</h1>
                {isCreatingPin ? (
                  <>
                    <input
                      type="password"
                      value={pinInput}
                      onChange={(e) => setPinInput(e.target.value.replace(/\D/g, '').slice(0, 4))}
                      placeholder="–°–æ–∑–¥–∞–π—Ç–µ PIN"
                      className="w-full mb-3 p-3 rounded-xl bg-slate-700 text-center text-2xl text-white"
                    />
                    <input
                      type="password"
                      value={pinConfirm}
                      onChange={(e) => setPinConfirm(e.target.value.replace(/\D/g, '').slice(0, 4))}
                      placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ PIN"
                      className="w-full mb-3 p-3 rounded-xl bg-slate-700 text-center text-2xl text-white"
                    />
                    <button onClick={handleCreatePin} className="w-full bg-purple-600 hover:bg-purple-700 py-3 rounded-xl text-white font-bold">
                      –°–æ–∑–¥–∞—Ç—å PIN
                    </button>
                  </>
                ) : (
                  <>
                    <input
                      type="password"
                      value={pinInput}
                      onChange={(e) => setPinInput(e.target.value.replace(/\D/g, '').slice(0, 4))}
                      placeholder="–í–≤–µ–¥–∏—Ç–µ PIN"
                      className="w-full mb-3 p-3 rounded-xl bg-slate-700 text-center text-2xl text-white"
                    />
                    <button onClick={handleCheckPin} className="w-full bg-purple-600 hover:bg-purple-700 py-3 rounded-xl text-white font-bold">
                      –í–æ–π—Ç–∏
                    </button>
                    {!savedPin && (
                      <button onClick={() => setIsCreatingPin(true)} className="mt-3 w-full bg-slate-700 py-3 rounded-xl text-white font-semibold">
                        –í–ø–µ—Ä–≤—ã–µ? –°–æ–∑–¥–∞–π—Ç–µ PIN
                      </button>
                    )}
                  </>
                )}
              </div>
            </div>
          );

        return (
          <div className="p-6 text-white">
            <h1 className="text-4xl font-bold mb-6">üè¶ –ú–æ–∏ –ë–∞–Ω–∫–∏</h1>
            <button
              onClick={() => {
                setIsAuthenticated(false);
                setPinInput('');
              }}
              className="bg-red-600 hover:bg-red-700 py-2 px-4 rounded-xl mb-4"
            >
              –í—ã–π—Ç–∏
            </button>

            {!showBankForm ? (
              <button
                onClick={() => setShowBankForm(true)}
                className="bg-blue-600 hover:bg-blue-700 py-3 px-5 rounded-2xl font-bold"
              >
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –±–∞–Ω–∫
              </button>
            ) : (
              <div className="bg-slate-800 p-6 rounded-3xl border border-blue-400 mt-4">
                <input
                  type="text"
                  value={bankFormData.bankName}
                  onChange={(e) => setBankFormData({ ...bankFormData, bankName: e.target.value })}
                  placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞"
                  className="w-full p-3 rounded-xl bg-slate-700 text-white mb-3"
                />
                <button
                  onClick={() => {
                    if (!bankFormData.bankName) return alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ');
                    setBanks([...banks, { ...bankFormData, id: Date.now(), cards: [] }]);
                    setShowBankForm(false);
                  }}
                  className="bg-green-600 hover:bg-green-700 py-2 px-4 rounded-xl mr-2"
                >
                  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button onClick={() => setShowBankForm(false)} className="bg-slate-700 py-2 px-4 rounded-xl">
                  –û—Ç–º–µ–Ω–∞
                </button>
              </div>
            )}

            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
              {banks.map((bank) => (
                <div
                  key={bank.id}
                  className="bg-slate-700 p-6 rounded-2xl border border-slate-600"
                  style={{ borderColor: bank.color }}
                >
                  <h2 className="text-2xl font-bold mb-2">{bank.bankName}</h2>
                  <p className="text-slate-300">–ö–∞—Ä—Ç: {bank.cards.length}</p>
                </div>
              ))}
            </div>
          </div>
        );
      };

      ReactDOM.createRoot(document.getElementById('root')).render(<BankVaultApp />);
    </script>
  </body>
</html>


